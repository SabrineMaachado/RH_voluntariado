{"version":3,"sources":["quiz.js"],"names":["Base","element","Quiz","callback","selectedAnswer","alternatives","Array","prototype","slice","call","querySelectorAll","feedback","positive","querySelector","negative","feedbacks","forEach","feed","classList","add","buttonSubmit","answer","getAttribute","removeAttribute","addBehaviors","addEventListener","submit","alternative","index","selectAnswer","result","calcResult","showFeedback","type","remove","clearSelection","QuizSet","MakeSlider","scoreElement","score","quizes","map","buildQuiz","innerHTML","length","quiz","addScore","bind","console","log"],"mappings":"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","sourcesContent":["\nclass Base {\n    constructor(element) {\n        this.element = element;\n    }\n}\n\nclass Quiz extends Base {\n    constructor(element, callback) {\n        super(element);\n        this.callback = callback || function () { };\n        this.selectedAnswer = -1;\n        this.alternatives = Array.prototype.slice.call(this.element.querySelectorAll('.alternative'));\n\n        this.feedback = {\n            positive: this.element.querySelector('.feedback.feedback-positive'),\n            negative: this.element.querySelector('.feedback.feedback-negative'),\n        }\n        this.feedbacks = Array.prototype.slice.call(this.element.querySelectorAll('.feedback'));\n\n        this.feedbacks.forEach(feed => feed.classList.add('hide'));\n\n        this.buttonSubmit = this.element.querySelector('.quiz-submit');\n        this.buttonSubmit.classList.add('hide');\n\n        this.answer = this.element.getAttribute('data-answer');\n        this.element.removeAttribute('data-answer');\n\n        this.addBehaviors();\n    }\n\n    addBehaviors() {\n        this.buttonSubmit.addEventListener('click', () => this.submit());\n        this.alternatives.forEach((alternative, index) => alternative.addEventListener('click', () => this.selectAnswer(alternative, index)));\n    }\n\n    submit() {\n        let result = this.calcResult()\n        this.showFeedback(result ? \"positive\" : \"negative\");\n        this.element.classList.add(\"lock\");\n        this.callback(result);\n    }\n\n    showFeedback(type) {\n        this.feedback[type].classList.remove('hide');\n    };\n\n    calcResult() { return this.selectedAnswer == this.answer; }\n\n    selectAnswer(alternative, index) {\n        this.clearSelection();\n        alternative.classList.add('selected');\n        this.selectedAnswer = index;\n        this.buttonSubmit.classList.remove('hide');\n    }\n    clearSelection() {\n        this.selectedAnswer = -1;\n        this.alternatives.forEach(alternative => alternative.classList.remove('selected'));\n    }\n}\n\nclass QuizSet extends Base {\n    constructor(element) {\n        super(element);\n        MakeSlider(element);\n        this.scoreElement = this.element.querySelector(\"#score\");\n        this.score = 0;\n        this.quizes = Array.prototype.slice.call(this.element.querySelectorAll('.quiz'))\n            .map((element, index) => this.buildQuiz(element, index));\n\n    }\n    addScore(score) {\n        if (score) {\n            this.score++;\n        }\n        this.scoreElement.innerHTML = this.score;\n        if(this.score/this.quizes.length<0.7){\n            this.element.querySelector('.quiz-end .feedback').classList.add('feedback-negative');\n        }\n    }\n    buildQuiz(element, index) {\n        let quiz = new Quiz(element, this.addScore.bind(this));\n        quiz.element.addEventListener('quizSubmit', console.log);\n        return quiz;\n    }\n}\n\n"],"file":"quiz.js"}